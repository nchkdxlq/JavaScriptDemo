<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>


<!--
	数组是特殊类型的对象，支持数字索引。
--->



<!--
	创建数组
--->
<script type="text/javascript">
	
	var car1 = "Saab";
	var car2 = "Volvo";
	var car3 = "BMW";

	// 方式一：使用数组文本创建数组
	var cars = ["Saab", "Volvo", "BMW"];

	var cars = [
		"Sbba",
		"Volvo",
		"BMW"
	];

	//方式二： 使用 new 关键字创建数组
	var cars = new Array("Saab", "Volvo", "BMW");

	// 总结：方式一和方式二创建数组产生的数组效果是完全一样的， 无需使用 new array(), 建议使用 方式一
	console.log(cars);

</script>


<!--
	访问数组元素, 数组的索引从 0 开始
--->
<script type="text/javascript">

	var cars = ["Saab", "Volvo", "BMW"];

	// 获取第一个元素
	var oneCar = cars[0];

	// 修改第一个元素
	cars[0] = "Opel";


</script>



<!--
	数组是对象， 数组是一种特殊类型的对象。使用 typeof 运算符返回 "object", 但是，JavaScript数组最好以数组类描述
--->

<script type="text/javascript">
	var person = ["Bill", "Gates", 62];

	// 使用下标访问数组
	var name = person[0]; // "Bill"
	// alert(name);

	var person = {firstName:"John", lastName:"Doe", age:46};
	// 对象使用名称访问其 "成员"，
	var name = person.firstName; // "John"
	// alert(name);

	// 数组元素可以是对象， 在数组中可以存放不同类型的对象，可以保存对象、函数、数组

</script>

<!--
	数组的属性和方法
--->
<script type="text/javascript">
	var cars = ["Saab", "Volvo", "BMW"];

	cars.length;// 3 返回数组的长度(元素个数)
	cars.sort(); // sort() 对数组进行排序

	var fruits = ["Banana", "Orange", "Apple", "Mango"];

	fruits[0]; // 访问第一个元素
	fruits[fruits.length - 1]; // 访问最后一个元素

	// 添加元素
	fruits.push("Lemon");
	fruits[fruits.length] = "Lemon";

	// 在大于数组长度的索引添加最高索引的元素可在数组中创建未定义的“洞”.
	// 例如现在 fruits数组长度为6，在索引为7的位置添加元素就会fruits[6]的位置，出现undefined元素
	fruits[7] = "WaterMelon";

	// alert(fruits.length); // fruits.length = 8
	// alert(fruits[6]); // undefined

</script>


<!--
	数组的一些特性
--->

<script type="text/javascript">
	// 1. 数组和对象的区别， 数组使用"数字索引", 对象使用"命名索引，而数组是特殊类型的对象，具有数字索引
	// 命名索引有点类似于 Swift 等编程语言的Dictionary

	// 2. 避免 new Array()

	// 创建空数组
	var points = new Array(); // 差
	var points = []; // 优

	var points = new Array(40, 100, 1, 5, 25, 10); // 差
	var points = [40, 100, 1, 5, 25, 10];          // 优


	// new 关键词只会使代码复杂化。它还会产生某些不可预期的结果：
	var points = new Array(40, 100);  // 创建包含两个元素的数组（40 和 100）

	// 只传一个参数
	var points = new Array(40);  // 创建包含 40 个未定义元素的数组！！！


	// 3. 如何识别数组
	typeof points // 返回 object

</script>




<!--
	数组方法
--->

<script type="text/javascript">
	var fruits = ["Banana", "Orange", "Apple", "Mango"];

	// 把数组转换为用逗号分隔的数组值的字符串
	var str = fruits.toString();
	console.log(str); // "Banana,Orange,Apple,Mango"

	// join() 使用字符串分隔数组元素的值并返回字符串
	var str = fruits.join("*"); // // "Banana*Orange*Apple*Mango"
	console.log(str);

	// pop() 删除数组最后一个元素, 并返回删除的元素
	var element = fruits.pop();
	console.log(element); // "Mango"

	// push() // 在数组的末尾添加一个元素, 并返回数组的长度
	var length = fruits.push("Kiwi");
	console.log(length); // 4

	// shift()  删除数组的第一个元素，并把后面所有的元素的索引减一，并返回删除的元素
	var element = fruits.shift();
	console.log(element);

	// unshift() 在第一个位置插入一个元素，并返回插入数据后数组的长度
	var length = fruits.unshift("Water");
	console.log(length);


	// fruits[0] = "Kiwi" 通过下标修改元素
	fruits[0] = "Kiwi"


	// 删除元素
	delete fruits[0]; //  把 fruits 中的首个元素改为 undefined
	// 使用 delete 会在数组留下未定义的空洞。请使用 pop() 或 shift() 取而代之。

</script>

<!--
	fruits.splice(2, 0, "Lemon", "Kiwi"); 替换数组元素
	第一个参数（2）指定需要替换元素的起始位置
	第二个参数（0）定义需要替换元素的个数， 这个参数为0相当于在指定位置插入元素
	其余参数（“Lemon”，“Kiwi”）定义要替换成的新元素。 这个参数省略相对于删除元素
--->
<script type="text/javascript">
	
	var fruits = ["Banana", "Orange", "Apple", "Mango"];
	fruits.splice(2, 0, "Lemon", "Kiwi"); // 添加元素
	console.log(fruits); // ["Banana", "Orange", "Lemon", "Kiwi", "Apple", "Mango"]

	var fruits = ["Banana", "Orange", "Apple", "Mango"];
	fruits.splice(2, 2, "Lemon", "Kiwi"); // 替换元素
	console.log(fruits); // ["Banana", "Orange", "Lemon", "Kiwi"]

	var fruits = ["Banana", "Orange", "Apple", "Mango"];
	fruits.splice(0, 1); // 删除下标为0的元素
	console.log(fruits); // ["Orange", "Apple", "Mango"]

</script>

<!--
	concat() 方法通过合并（连接）现有数组来创建一个新数组：
	1. 不会修改改变数组，返回一个新的数组
	2. 可以连接任意个数组
--->
<script type="text/javascript">
	var myGirls = ["Cecilie", "Lone"];
	var myBoys = ["Emil", "Tobias", "Linus"];
	var myChildren = myGirls.concat(myBoys);   // 连接 myGirls 和 myBoys


	var arr1 = ["Cecilie", "Lone"];
	var arr2 = ["Emil", "Tobias", "Linus"];
	var arr3 = ["Robin", "Morgan"];
	var myChildren = arr1.concat(arr2, arr3);   // 将arr1、arr2 与 arr3 连接在一起

</script>


<!--
	slice(1, 3) 裁剪数组
	1. 开始位置
	2. 结束位置，但不包含该位置元素; 如果该参数省略，则截取到数组的结束位置
--->
<script type="text/javascript">
	console.log("==== slice() ====");
	var fruits = ["Banana", "Orange", "Lemon", "Apple", "Mango"];
	var citrus = fruits.slice(2); // ["Lemon", "Apple", "Mango"]
	console.log(citrus);

	var citrus = fruits.slice(1, 3); 
	console.log(citrus); // ["Orange", "Lemon"]


</script>


<!--
	数组排序
--->
<script type="text/javascript">
	console.log("==== sort() ====");
	// sort() 方法以字母顺序对数组元素进行排序：

	var fruits = ["Banana", "Orange", "Apple", "Mango"];
	fruits.sort();    // 对 fruits 中的元素进行排序
	console.log(fruits); // ["Apple", "Banana", "Mango", "Orange"]
	fruits.reverse(); // 反转元素顺序
	console.log(fruits); //  ["Orange", "Mango", "Banana", "Apple"]

	// 数字排序, 需要自定义排序函数
	var numbers = [1, 21, 3, 5, 13];
	numbers.sort(function(a, b){return a - b});
	console.log("数字排序: [" + numbers.toString() + "]"); // [1, 3, 5, 13, 21]

	 // Math.max.apply([1, 2, 3]) 等于 Math.max(1, 2, 3)。

	// 最大值
	var max = Math.max.apply(null, numbers);
	console.log("max = " + max);

	// 最小值
	var min = Math.min.apply(null, numbers);
	console.log("min = " + min);

</script>


<!--
	数组迭代 (高阶函数， 函数的参数为函数的函数为高阶函数)
--->

<script type="text/javascript">
	// 1. Array.forEach()

	var txt = "";
	var numbers = [45, 4, 16, 25];
	numbers.forEach(v3_forEach_function);

	// 下面三个函数都可以
	function v1_forEach_function(value, index, array) {
		txt = txt + value + "<br>"; 
	}

	function v2_forEach_function(value, index) {
		console.log(index.toString() + " : " + value.toString());
	}

	function v3_forEach_function(value) {
		console.log(value);
	}

	// Array.map() 对象每个元素执行函数来创建新的数组

	var numbers1 = [45, 4, 16, 25];
	var numbers2 = numbers1.map(map_function);
	console.log("Array.map() = " + numbers2.toString());
	function map_function(value) {
		return value * 2;
	}

	// Array.filter() 
	var numbers3 = numbers1.filter(filter_function);
	console.log("Array.filter() = " + numbers3.toString());

	function filter_function(value) {
		return value > 18;
	}

	// Array.reduce()
	var numbers = [45, 4, 16, 25];
	var sum = numbers.reduce(v1_reduce_function);

	console.log("Array.reduce(): sum = " + sum);
	// 参数依次为 总数(初始值/原先返回的值) 、元素值、元素下标、数组本身
	function v1_reduce_function(total, value, index, array) {
		return total + value;
	}
	// index、array 不使用可以简化为下面的形式
	function v2_reduce_function(total, value) {
		return total + value;
	}

	// reduce() 可以接受一个初始值
	var sum = numbers.reduce(v2_reduce_function, 100);
	console.log("Array.reduce(100): sum = " + sum);

</script>

<!--

--->
<script type="text/javascript">

	var fruits =  ["Apple", "Orange", "Apple", "Mango"];

	// Array.indexOf() 从头往尾开始查找，返回数组中首次出现元素的索引
	var index = fruits.indexOf("Apple");
	console.log("Array.indexOf(): index = " + index);

	// 可以指定查找的其实位置，负数表示冲结尾开始的给定位置开始往后查找, 如果没有找到，返回 -1
	var index = fruits.indexOf("Apple", 2); // 2
	console.log("Array.indexOf(2): index = " + index);

	// Array.lastIndexOf() 从尾部向头开始查找，返回首次出现元素的索引

	var index = fruits.lastIndexOf("Apple"); // 2
	console.log("Array.lastIndexOf(): index = " + index);

	var index = fruits.lastIndexOf("Apple", 1); // 0
	console.log("Array.lastIndexOf(1): index = " + index);


	// Array.find() 返回满足条件的第一个元素

	var numbers = [4, 9, 16, 25, 29];
	var first = numbers.find(v2_find_function); // 25
	console.log("Array.find(): first = " + first);

	function v1_find_function(value, index, array) {
		return value > 18;
	}
	function v2_find_function(value) {
		return value > 18;
	}
	

	// Array.findIndex() 返回满足条件的第一个元素的下标

	var firstIndex = numbers.findIndex(v2_findIndex_function); // 3
	console.log("Array.findIndex(): firstIndex = " + firstIndex);	

	function v1_findIndex_funtion(value, index, array) {
		return value > 18;
	}
	function v2_findIndex_function(value) {
		return value > 18;
	}


</script>>


</body>
</html>